@using ViewModels

@model List<ProductViewModel>

@{
    ViewData["Title"] = "Product list";
}

<div class="mb-3">
    <!-- Optional: Create New Product Button -->
    <a asp-action="Create" class="btn btn-success">Create New Product</a>
</div>

<table id="productTable" class="display" style="width:100%">
    <thead>
        <tr>
            <th>Model ID</th>
            <th>Product Type</th>
            <th>Laptop Speed</th>
            <th>Laptop RAM</th>
            <th>Laptop Hard Disk</th>
            <th>Laptop Screen</th>
            <th>PC Speed</th>
            <th>PC RAM</th>
            <th>PC Hard Disk</th>
            <th>PC Read Drive</th>
            <th>Printer Color</th>
            <th>Printer Type</th>
            <th>Price</th>
            <th>Maker ID</th>
            <th>Maker Color</th>
            <!-- Add an Action column for Edit and Delete buttons -->
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>@item.ModelID</td>
                <td>@item.Product_Type</td>
                <td>@item.Laptop_Speed</td>
                <td>@item.Laptop_RAM</td>
                <td>@item.Laptop_HardDisk</td>
                <td>@item.Laptop_Screen</td>
                <td>@item.PC_Speed</td>
                <td>@item.PC_RAM</td>
                <td>@item.PC_HardDisk</td>
                <td>@item.PC_ReadDrive</td>
                <td>@item.Printer_Color</td>
                <td>@item.Printer_Type</td>
                <td>@item.Product_Price</td>
                <td>@item.MakerID</td>
                <td>@item.Maker_Color</td>
                <!-- Adding Edit and Delete buttons -->
                <td>
                    <a asp-action="Edit" asp-route-modelId="@item.ModelID" class="btn btn-info edit-btn">Edit</a>
                    <a asp-action="Delete" asp-route-modelId="@item.ModelID" class="btn btn-danger delete-btn"
                       onclick="return confirm('Are you sure you want to delete this item?');">Delete</a>
                </td>
            </tr>
        }
    </tbody>
</table>

@section Scripts {
    <style>
        .no-wrap {
            white-space: nowrap;
        }
    </style>

    <script type="text/javascript">
        $(document).ready(() => {
            $('#productTable').DataTable({
                "columnDefs": [{
                    "targets": -1,  // Last column (Actions) should not be sortable
                    "orderable": false
                }]
            });
            $('#productTable th, #productTable td').addClass('no-wrap');
        });
    </script>
}
